# การปรับปรุง UI หน้า In-Out (รูปแบบใหม่)

## สรุปการเปลี่ยนแปลง

เปลี่ยนจาก **Table Layout** เป็น **Card Flow Layout** เพื่อให้ดูง่ายและเข้าใจได้ชัดเจนขึ้น โดยแสดงการเคลื่อนย้ายเป็นแบบ Flow Chart พร้อมลูกศร

## จุดเด่นของ UI ใหม่

### 🎯 แนวคิดหลัก: Flow Chart แบบ Visual
แสดงการย้ายตำแหน่งเป็น **จาก → ย้าย → ไป** ด้วย Card แยกชัดเจน

```
┌─────────────┐         ┌──────┐         ┌─────────────┐
│    จาก      │   ───>  │ ย้าย │   ───>  │     ไป      │
│  (ตำแหน่งเดิม)│         │      │         │ (ตำแหน่งใหม่)│
│             │         └──────┘         │   + แทนใคร  │
└─────────────┘                          └─────────────┘
```

## การเปลี่ยนแปลงหลัก

### 1. เปลี่ยนจาก Table เป็น Card Layout (ทุกอุปกรณ์)
- ❌ ลบ Table Layout ออกทั้งหมด
- ✅ ใช้ Card Layout แทน (ทั้ง Desktop, Tablet, Mobile)
- ✅ แสดงเป็น Flow แนวนอน (Desktop/Tablet) และแนวตั้ง (Mobile)

### 2. โครงสร้าง Card แต่ละรายการ

#### Desktop/Tablet View (แนวนอน)
```
┌────────────────────────────────────────────────────────────┐
│  #1                                    [ประเภท: สลับ 2 คน]  │
│                                                              │
│  ┌──────────┐    ┌────────┐    ┌──────────────────────┐   │
│  │   จาก    │ ──>│  ย้าย  │──> │        ไป            │   │
│  │          │    │        │    │                      │   │
│  │ ชื่อ-สกุล │    │   ➡️   │    │ ตำแหน่งใหม่          │   │
│  │ POS CODE │    │        │    │ POS CODE ใหม่        │   │
│  │ ตำแหน่ง   │    │        │    │ ─────────────────    │   │
│  │ หน่วย     │    │        │    │ 🔄 แทน: [ชื่อ-สกุล]  │   │
│  │ [ดูข้อมูล]│    │        │    │    [ดูข้อมูล]        │   │
│  └──────────┘    └────────┘    └──────────────────────┘   │
│                                                              │
│              [ดูรายละเอียดการย้าย]                          │
└────────────────────────────────────────────────────────────┘
```

#### Mobile View (แนวตั้ง)
```
┌──────────────────────┐
│  #1    [ประเภท]      │
│                      │
│  ┌────────────────┐  │
│  │     จาก        │  │
│  │  ชื่อ-สกุล      │  │
│  │  ตำแหน่ง        │  │
│  │  [ดูข้อมูล]     │  │
│  └────────────────┘  │
│         ⬇️           │
│       ย้าย           │
│         ⬇️           │
│  ┌────────────────┐  │
│  │     ไป         │  │
│  │  ตำแหน่งใหม่    │  │
│  │  ───────────   │  │
│  │  แทน: ชื่อ-สกุล │  │
│  │  [ดูข้อมูล]     │  │
│  └────────────────┘  │
│                      │
│ [ดูรายละเอียดการย้าย]│
└──────────────────────┘
```

### 3. สีและการออกแบบ

#### กล่อง "จาก" (ตำแหน่งเดิม)
- พื้นหลัง: สีเทาอ่อน
- กรอบ: สีเทา (2px)
- แสดง: ชื่อ-สกุล, POS CODE, ตำแหน่ง, หน่วย, เลขตำแหน่ง
- ปุ่ม: "ดูข้อมูล" (outlined)

#### ลูกศร "ย้าย"
- ไอคอน: SwapHorizIcon (➡️)
- สี: Primary (สีน้ำเงิน)
- ข้อความ: "ย้าย"
- Desktop: แนวนอน
- Mobile: แนวตั้ง (หมุน 90 องศา)

#### กล่อง "ไป" (ตำแหน่งใหม่)
- พื้นหลัง: สีเขียวอ่อน (มีคน) / สีส้มอ่อน (ว่าง)
- กรอบ: สีเขียว (2px) / สีส้ม (2px)
- แสดง: POS CODE ใหม่, ตำแหน่งใหม่, หน่วยใหม่, เลขตำแหน่งใหม่

#### กล่อง "แทน" (ภายในกล่อง "ไป")
- พื้นหลัง: สีส้มอ่อน
- กรอบ: สีส้ม (1px)
- แสดง 3 สถานะ:
  1. **มีคนเดิม**: แสดงชื่อ-สกุล + ปุ่ม "ดูข้อมูล" (warning)
  2. **ตำแหน่งว่าง**: "ตำแหน่งว่าง" (สีเขียว)
  3. **ข้อมูลไม่พบ**: "ข้อมูลคนเดิมไม่พบ" (สีแดง)

### 4. สรุปสถิติด้านบน (เหมือนเดิม)
- ✅ มีคนดำรงตำแหน่ง
- ⚠️ ตำแหน่งว่าง
- 🔄 แทนคนเดิม
- 📋 ตำแหน่งว่างเดิม

### 5. การจัดกลุ่ม
- แต่ละ Transaction แยกด้วยเส้นสีน้ำเงินด้านซ้าย (4px)
- เว้นระยะห่างระหว่างกลุ่ม (margin-top: 3)

## ประโยชน์ของ UI ใหม่

### ✅ ข้อดี
1. **เห็นภาพชัดเจน** - Flow Chart แบบ Visual ทำให้เห็นการเคลื่อนย้ายทันที
2. **อ่านง่าย** - ไม่ต้องอ่านตารางแบบเดิม แค่มองตาม Flow
3. **แทนใครชัดเจน** - กล่อง "แทน" แยกออกมาเด่นชัด
4. **ตำแหน่งว่างเด่น** - ใช้สีส้มเตือนชัดเจน
5. **Responsive ดี** - ทำงานได้ดีทั้ง Desktop และ Mobile
6. **ปุ่มครบ** - มีปุ่มดูข้อมูลทุกจุดที่ต้องการ

### 📱 Mobile Friendly
- แสดง Flow แนวตั้งแทนแนวนอน
- ลูกศรหมุน 90 องศา
- ขนาดตัวอักษรเหมาะสม
- ปุ่มเต็มความกว้าง

### 🎨 Visual Design
- ใช้สีแยกประเภทชัดเจน
- กรอบหนาช่วยเน้นส่วนสำคัญ
- Spacing เหมาะสม ไม่แน่นเกินไป
- Typography ชัดเจน มีลำดับชั้น

## การใช้งาน

### ดูข้อมูลบุคลากร
- คลิก "ดูข้อมูล" ในกล่อง "จาก" → ดูข้อมูลคนที่ย้าย
- คลิก "ดูข้อมูล" ในกล่อง "แทน" → ดูข้อมูลคนที่ถูกแทน

### ดูรายละเอียดการย้าย
- คลิก "ดูรายละเอียดการย้าย" ด้านล่าง Card → ดูข้อมูล Transaction เต็ม

## ไฟล์ที่แก้ไข

- `src/app/in-out/page.tsx` - เปลี่ยนจาก Table เป็น Card Flow Layout
- ลบ imports ที่ไม่ใช้: Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress, CalendarIcon, CloseIcon, useCallback
- เพิ่ม SwapHorizIcon สำหรับลูกศร
- ลบฟังก์ชัน formatDate ที่ไม่ได้ใช้

## สรุป

UI ใหม่นี้เน้นความชัดเจนและเข้าใจง่าย โดยใช้ **Visual Flow Chart** แทนตารางแบบเดิม ทำให้ผู้ใช้เห็นภาพการเคลื่อนย้ายได้ทันที และรู้ว่า **ใคร ย้ายจากไหน ไปไหน แทนใคร และตำแหน่งไหนยังว่าง** ได้อย่างชัดเจน
